{
  "$ schema": "https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#",
  "contentVersion": "1.0.0.0",
  "parameters": {
    "Nome do Projeto": {
      "type": "string",
      "minLength": 3,
      "maxLength": 11,
      "metadados": {
        "description": "Especifique um nome de projeto usado para gerar nomes de recursos."
      }
    }
    "location": {
      "type": "string",
      "defaultValue": "[resourceGroup (). location]",
      "metadados": {
        "description": "Especifique um local para os recursos."
      }
    }
    "linuxFxVersion": {
      "type": "string",
      "defaultValue": "php | 7.0",
      "metadados": {
        "description": "A pilha de tempo de execução do aplicativo da web atual"
      }
    }
    "linkedTemplateUri": {
      "type": "string",
      "metadados": {
        "description": "O Uri do modelo vinculado."
      }
    }
  }
  "variable": {
    "storageAccountName": "[concat (parâmetros ('projectName'), 'store')]",
    "webAppName": "[concat (parâmetros ('projectName'), 'WebApp')]",
    "appServicePlanName": "[concat (parâmetros ('projectName'), 'Plan')]" "
  }
  "Recursos": [
    {
      "name": "linkedTemplate",
      "type": "Microsoft.Resources / implantações",
      "apiVersion": "01/05/2018",
      "properties": {
        "mode": "Incremental",
        "templateLink": {
          "uri": "[parâmetros ('linkedTemplateUri')]" "
        }
        "parameters": {
          "storageAccountName": {
            "value": "[variáveis ​​('storageAccountName')]" "
          }
          "location": {
            "value": "[parâmetros ('localização')]" "
          }
        }
      }
    }
    {
      "type": "Microsoft.Web / serverfarms",
      "apiVersion": "01/09/2016",
      "name": "[variable ('appServicePlanName')]",
      "location": "[parameters ('location')]",
      "sku": {
        "nome": "B1",
        "camada": "básico",
        "tamanho": "B1",
        "família": "B",
        "capacidade": 1
      }
      "kind": "linux",
      "properties": {
        "perSiteScaling": false,
        "reservado": verdadeiro,
        "targetWorkerCount": 0,
        "targetWorkerSizeId": 0
      }
    }
    {
      "type": "Microsoft.Web / sites",
      "apiVersion": "01/11/2018",
      "name": "[variable ('webAppName')]",
      "location": "[parameters ('location')]",
      "depende de": [
        "[resourceId ('Microsoft.Web / serverfarms', variáveis ​​('appServicePlanName'))]]"
      ],
      "kind": "app",
      "properties": {
        "serverFarmId": "[resourceId ('Microsoft.Web / serverfarms', variáveis ​​('appServicePlanName'))]]",
        "siteConfig": {
          "linuxFxVersion": "[parâmetros ('linuxFxVersion')]" "
        }
      }
    }
  ],
  "saídas": {
    "storageEndpoint": {
      "type": "object",
      "value": "[reference ('linkedTemplate'). outputs.storageEndpoint.value]"
    }
  }
}
